zgenom autoupdate

if ! zgenom saved; then
   echo "Creating zgen Save."

   zgenom ohmyzsh

   zgenom ohmyzsh plugins/cp
   zgenom ohmyzsh plugins/sudo
   zgenom ohmyzsh plugins/history
   zgenom ohmyzsh plugins/rsync
   zgenom ohmyzsh plugins/colored-man-pages
   zgenom ohmyzsh plugins/direnv

   # tmux
   zgenom ohmyzsh plugins/tmux
   # zgenom ohmyzsh plugins/tmux-cssh

   # tools
   zgenom ohmyzsh plugins/encode64
   zgenom ohmyzsh plugins/extract
   zgenom ohmyzsh plugins/urltools
   # zgenom ohmyzsh plugins/httpie

   # git
   zgenom ohmyzsh plugins/git
   zgenom ohmyzsh plugins/git-lfs
   zgenom ohmyzsh plugins/gh
   zgenom ohmyzsh plugins/gitignore

   # dev
   zgenom ohmyzsh plugins/python
   zgenom ohmyzsh --completion plugins/pylint
   zgenom ohmyzsh plugins/pip

   zgenom ohmyzsh --completion plugins/yarn

   # k8s
   # zgenom ohmyzsh plugins/kubectl
   # zgenom ohmyzsh plugins/minikube

   # completion
   zgenom ohmyzsh plugins/ag
   zgenom ohmyzsh plugins/rust
   zgenom ohmyzsh plugins/ripgrep

   {{ if eq .chezmoi.os "darwin" }}
   # macos
   zgenom ohmyzsh plugins/brew
   zgenom ohmyzsh plugins/macos
   zgenom ohmyzsh plugins/sublime

   {{ else if eq .chezmoi.os "linux" }}
   # linux
   zgenom ohmyzsh plugins/systemd
   {{ end }}

   ######################
   #  External Plugins  #
   ######################
   zgenom load zsh-users/zsh-completions
   zgenom load Aloxaf/fzf-tab
   zgenom bin bigH/git-fuzzy
   # zgenom load RobSis/zsh-completion-generator


   #################
   #  Completions  #
   #################
   zgenom load $Z_DOT_PATH/completions
   zgenom load $Z_DOT_PATH/z_nix.zsh
   zgenom load $Z_DOT_PATH/z_comp_gen.zsh
   zgenom load $Z_DOT_PATH/z_function.zsh
   zgenom load $Z_DOT_PATH/z_alias.zsh
   zgenom load $Z_DOT_PATH/z_config.zsh

   zgenom save
fi